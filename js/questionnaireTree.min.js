var questionnaireTree=function(e){var t,s,a=e.questions,n=1,o=e.answers,i=e.containerID,l=e.usePushState,r={QTag:"div",QTagPrefix:"qt-question-",QTagBaseClass:"qt-question",QTagActiveClass:"qt-active",QTagInactiveClass:"qt-inactive",OptTag:"a",OptPrefix:"option-",OptClass:"qt-option",OptLblData:"data-answer",OptValData:"data-val",ATag:"div",ATagId:"answer-result"},u=function(e){var s=a[e],n=r.QTag,o=r.QTagPrefix+e,i=r.QTagBaseClass+" "+r.QTagActiveClass,u=e+". "+s.question,p=r.OptTag,g=r.OptPrefix,d=r.OptClass,v=r.OptLblData,q=r.OptValData,f=s.options,w=T({elParent:t,newTag:n,newElID:o,sHTML:u,elClasses:i});for(var C in f)sOptionClasses=f[C].classes||"",T({elParent:w,newTag:p,newElID:o+"-"+g+C,elClasses:d+" "+sOptionClasses,attribs:[{aName:v,aVal:f[C].val},{aName:q,aVal:C}],sHTML:f[C].label}).addEventListener("click",c,!1);l&&function(e,t){var s=t.question,a=s.replace(" ","-"),n={qid:e,data:t};history.pushState(n,s,a)}(e,s)};t=(s=i)&&document.querySelectorAll(s)?document.getElementById(s):console.log("no selector"),console.log("starting..."),u(n),l&&window.addEventListener("popstate",(function(e){var t=e.state;console.log(t),u(t.qid)}));function c(){var t=g(this,r.OptLblData),s=g(this,r.OptValData);return e.questions[n].answer=t,function(t,s){!function(e){e.classList.contains(r.QTagActiveClass)&&(e.classList.remove(r.QTagActiveClass),e.classList.add(r.QTagInactiveClass))}(t.parentNode);t.innerHTML;if(console.log(e.questions[n].options[s]),!e.questions[n].options[s].nextQ)return p();var a=e.questions[n].options[s].nextQ;e.questions[a]?(u(a),n=a):p()}(this,s),this}function p(){var s,a,n,i="";for(question in e.questions)e.questions[question].answer&&(i+=e.questions[question].answer+"|");console.log(i,o.patterns[i]),o.patterns[i]&&o.patterns[i].content?(s=o.patterns[i].content,a=o.patterns[i].position?o.patterns[i].position:"unknown"):(s="You are too unique - we have no data that matches your answers.",a="unknown"),console.log("questionnaireTree finished! Results:"),console.log(i),console.log(a,s),n=o.patterns[i].classes||"";T({elParent:t,newTag:r.ATag,newElID:r.ATagId,elClasses:n,sHTML:a+": "+s})}function g(e,t){return e&&t?e.getAttribute(t):console.log("No element or attribute specified!")}function T(e){var t=e.elParent,s=e.newTag,a=e.newElID,n=document.createElement(s),o=e.elClasses,i=e.attribs||null,l=0;if(n.id=a,e.sHTML)n.innerHTML=e.sHTML;else if(e.sText){var r=document.createTextNode(e.sText);n.appendChild(r)}if(o&&(n.className=o),i)for(var u,c=i.length;l<c;l++)(u=document.createAttribute(i[l].aName)).value=i[l].aVal,n.setAttributeNode(u);return t.appendChild(n),n}};